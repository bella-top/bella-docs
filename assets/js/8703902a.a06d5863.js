"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[2111],{6865:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>X,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"bella-queue/api/queue/complete","title":"\u5b8c\u6210\u4efb\u52a1","description":"POST http(s)://{}/v1/queue/{taskId}/complete","source":"@site/docs/bella-queue/api/queue/complete.md","sourceDirName":"bella-queue/api/queue","slug":"/bella-queue/api/queue/complete","permalink":"/docs/bella-queue/api/queue/complete","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"documentationSidebar","previous":{"title":"\u83b7\u53d6\u4efb\u52a1","permalink":"/docs/bella-queue/api/queue/take"},"next":{"title":"\u53d6\u6d88\u4efb\u52a1","permalink":"/docs/bella-queue/api/queue/cancel"}}');var r=t(4848),l=t(8453);const c={},d="\u5b8c\u6210\u4efb\u52a1",i={},a=[{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"Path Parameters",id:"path-parameters",level:2},{value:"Request Body Parameters",id:"request-body-parameters",level:2},{value:"Returns",id:"returns",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u5b8c\u6210\u4efb\u52a1",children:"\u5b8c\u6210\u4efb\u52a1"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"http(s)://{{Host}}/v1/queue/{taskId}/complete"})]}),"\n",(0,r.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8bf7\u6c42"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "https://${Host}/v1/queue/TASK-X-X-X-XXXXXXXXXXXX-XXXX-XXXXXX/complete" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer ${apikey}" \\\n  -d \'{\n    "request_id": "TASK-X-X-X-XXXXXXXXXXXX-XXXX-XXXXXX",\n    "status_code": 200,\n    "body": {\n        // Worker\u5904\u7406\u7ed3\u679c - chat completion\u54cd\u5e94\n        "id": "chatcmpl-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",\n        "object": "chat.completion",\n        "created": 1762857979,\n        "model": "deepseek-r1-20250401",\n        "choices": [\n          {\n            "index": 0,\n            "message": {\n                "role": "assistant",\n                "content": "\u4f60\u597d\u5440\uff01\u5f88\u9ad8\u5174\u89c1\u5230\u4f60\uff0c\u6211\u662f\u4f60\u7684AI\u52a9\u624b"\n            },\n            "finish_reason": "stop"\n          }\n        ],\n        "usage": {\n            "prompt_tokens": 4,\n            "total_tokens": 307,\n            "completion_tokens": 303\n        }\n    }\n}\'\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u54cd\u5e94"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'"TASK-X-X-X-XXXXXXXXXXXX-XXXX-XXXXXX"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u53c2\u6570"}),(0,r.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(n.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"taskId"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Required"}),(0,r.jsx)(n.td,{children:"\u8981\u5b8c\u6210\u7684\u4efb\u52a1ID"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"request-body-parameters",children:"Request Body Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u53c2\u6570"}),(0,r.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(n.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"data"})}),(0,r.jsx)(n.td,{children:"Map<String, Object>"}),(0,r.jsx)(n.td,{children:"Required"}),(0,r.jsx)(n.td,{children:"\u4efb\u52a1\u5904\u7406\u7ed3\u679c\u6570\u636e"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"returns",children:"Returns"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'"\u4efb\u52a1ID"\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u63a5\u53e3\u7531Worker\u8c03\u7528\uff0c\u7528\u4e8e\u63d0\u4ea4\u4efb\u52a1\u5904\u7406\u5b8c\u6210\u7684\u7ed3\u679c\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4f7f\u7528\u573a\u666f"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"callback\u6a21\u5f0f"}),": Worker\u5904\u7406\u5b8c\u6210\u540e\u8c03\u7528\u6b64\u63a5\u53e3\uff0c\u7cfb\u7edf\u4f1a\u5411\u6307\u5b9a\u7684callbackUrl\u53d1\u9001HTTP\u56de\u8c03\u8bf7\u6c42"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"batch\u6a21\u5f0f"}),": \u6279\u5904\u7406\u4efb\u52a1\u5b8c\u6210\u540e\u8c03\u7528\u6b64\u63a5\u53e3\u66f4\u65b0\u6279\u6b21\u72b6\u6001"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6ce8\u610f"}),": blocking\u548cstreaming\u6a21\u5f0f\u901a\u8fc7Redis\u4e8b\u4ef6\u603b\u7ebf\u76f4\u63a5\u5904\u7406\uff0c\u65e0\u9700\u8c03\u7528\u6b64\u63a5\u53e3"]})]})}function X(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>d});var s=t(6540);const r={},l=s.createContext(r);function c(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);