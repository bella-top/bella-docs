"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[7978],{5684:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"bella-queue/api/queue/complete","title":"Complete Task","description":"POST http(s)://{}/v1/queue/{taskId}/complete","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/bella-queue/api/queue/complete.md","sourceDirName":"bella-queue/api/queue","slug":"/bella-queue/api/queue/complete","permalink":"/en/docs/bella-queue/api/queue/complete","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"documentationSidebar","previous":{"title":"Get Task","permalink":"/en/docs/bella-queue/api/queue/take"},"next":{"title":"Cancel Task","permalink":"/en/docs/bella-queue/api/queue/cancel"}}');var r=n(4848),l=n(8453);const a={},c="Complete Task",i={},d=[{value:"Example",id:"example",level:2},{value:"Path Parameters",id:"path-parameters",level:2},{value:"Request Body Parameters",id:"request-body-parameters",level:2},{value:"Returns",id:"returns",level:2}];function o(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"complete-task",children:"Complete Task"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"POST"})," ",(0,r.jsx)(t.code,{children:"http(s)://{{Host}}/v1/queue/{taskId}/complete"})]}),"\n",(0,r.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Request"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'curl -X POST "https://${Host}/v1/queue/TASK-X-X-X-XXXXXXXXXXXX-XXXX-XXXXXX/complete" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer ${apikey}" \\\n  -d \'{\n    "request_id": "TASK-X-X-X-XXXXXXXXXXXX-XXXX-XXXXXX",\n    "status_code": 200,\n    "body": {\n        // Worker processing result - chat completion response\n        "id": "chatcmpl-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",\n        "object": "chat.completion",\n        "created": 1762857979,\n        "model": "deepseek-r1-20250401",\n        "choices": [\n            {\n                "index": 0,\n                "message": {\n                    "role": "assistant",\n                    "content": "Hello! Nice to meet you, I am your AI assistant"\n                },\n                "finish_reason": "stop"\n            }\n        ],\n        "usage": {\n            "prompt_tokens": 4,\n            "total_tokens": 307,\n            "completion_tokens": 303\n        }\n    }\n}\'\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Response"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'"TASK-X-X-X-XXXXXXXXXXXX-XXXX-XXXXXX"\n'})}),"\n",(0,r.jsx)(t.h2,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Required"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"taskId"})}),(0,r.jsx)(t.td,{children:"string"}),(0,r.jsx)(t.td,{children:"Required"}),(0,r.jsx)(t.td,{children:"ID of task to complete"})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"request-body-parameters",children:"Request Body Parameters"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Required"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"data"})}),(0,r.jsx)(t.td,{children:"Map<String, Object>"}),(0,r.jsx)(t.td,{children:"Required"}),(0,r.jsx)(t.td,{children:"Task processing result data"})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"returns",children:"Returns"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'"Task ID"\n'})}),"\n",(0,r.jsx)(t.p,{children:"This interface is called by Workers to submit task completion results."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Use Cases"}),":"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"callback mode"}),": After Worker processing is complete, call this interface and the system will send HTTP callback requests to the specified callbackUrl"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"batch mode"}),": After batch task completion, call this interface to update batch status"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Note"}),": blocking and streaming modes are handled directly through Redis event bus without calling this interface"]})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var s=n(6540);const r={},l=s.createContext(r);function a(e){const t=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);