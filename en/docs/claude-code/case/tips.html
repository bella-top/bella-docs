<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-claude-code/case/tips" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">36个实用技巧 | Bella Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://doc.bella.top/en/img/bella-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://doc.bella.top/en/img/bella-social-card.jpg"><meta data-rh="true" property="og:url" content="https://doc.bella.top/en/docs/claude-code/case/tips"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="36个实用技巧 | Bella Documentation"><meta data-rh="true" name="description" content="从零基础到专家级应用，涵盖快捷键操作、提示词优化、MCP 服务器配置、项目规则设置和自动化钩子。助你全面提升 Claude Code 使用效率。"><meta data-rh="true" property="og:description" content="从零基础到专家级应用，涵盖快捷键操作、提示词优化、MCP 服务器配置、项目规则设置和自动化钩子。助你全面提升 Claude Code 使用效率。"><link data-rh="true" rel="icon" href="/en/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://doc.bella.top/en/docs/claude-code/case/tips"><link data-rh="true" rel="alternate" href="https://doc.bella.top/docs/claude-code/case/tips" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://doc.bella.top/en/docs/claude-code/case/tips" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://doc.bella.top/docs/claude-code/case/tips" hreflang="x-default"><link rel="stylesheet" href="/en/assets/css/styles.d2062bad.css">
<script src="/en/assets/js/runtime~main.dbe245b2.js" defer="defer"></script>
<script src="/en/assets/js/main.56d05baa.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.svg" alt="Bella Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/en/img/logo.svg" alt="Bella Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Bella</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/docs/intro">Document</a><a class="navbar__item navbar__link" href="/en/api-viewer">API</a><a href="https://wiki.bella.top" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DeepWiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item"><div id="github-star-button"></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/claude-code/case/tips" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中文 (简体)</a></li><li><a href="/en/docs/claude-code/case/tips" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li></ul></div><a href="https://github.com/LianjiaTech/bella-openapi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/intro">介绍（Introduction）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/en/docs/bella-openapi/intro">OpenAPI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/bella-openapi/intro">介绍（Introduction）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/bella-openapi/configuration-details">配置与部署 (Configuration &amp; Deployment)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/bella-openapi/core/chat-completions">使用文档 (Usage Documents)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/bella-openapi/features/claude-cache">特性介绍（Features Introduce）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/bella-openapi/tech/system-structure">技术文档（Tech Documents）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/bella-openapi/dev/login-spi">开发者文档（Dev Documents）</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/en/docs/bella-domify/intro">Domify</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/bella-domify/intro">介绍（Introduction）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/bella-domify/integration-knowledge-rag-integration">使用文档 (Usage Documents)</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/en/docs/bella-knowledge/intro">Bella-Knowledge</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/bella-knowledge/intro">介绍（Introduction）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/bella-knowledge/api/files/upload">使用文档 (Usage Documents)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/bella-knowledge/features/openai-compatibility">特性介绍（Features Introduce）</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/en/docs/bella-workflow/intro">Bella-Workflow</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/bella-workflow/intro">介绍（Introduction）</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/en/docs/claude-code/introduction">Claude Code With Bella</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/claude-code/introduction">导读（Introduction）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/claude-code/introduce/use-in-ide">快速使用（Quick Start）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/claude-code/tech/agent_design">技术分析（Tech Analysis）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/en/docs/claude-code/case/tips">实践案例（cases）</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/claude-code/case/tips">36个实用技巧</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/claude-code/case/technical-research-case">进行技术调研的案例</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/claude-code/case/sub-agents-use">一文讲透Claude Code子代理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/claude-code/case/client">客户端工具：CUI 与 Happy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/en/docs/claude-code/share">经验分享（shares）</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Claude Code With Bella</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">实践案例（cases）</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">36个实用技巧</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>36个实用技巧</h1></header>
<p>从零基础到专家级应用，涵盖快捷键操作、提示词优化、MCP 服务器配置、项目规则设置和自动化钩子。助你全面提升 Claude Code 使用效率。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="写在前面">写在前面<a href="#写在前面" class="hash-link" aria-label="Direct link to 写在前面" title="Direct link to 写在前面">​</a></h2>
<p>我在长期使用Claude Code之后，发现Claude Code 的底层特性丰富，但由于它是终端界面，有一些不明显的特性，需要掌握很多使用技巧，才能让它从&quot;还不错&quot;变成&quot;真正好用&quot;。</p>
<p>如果你刚刚开始使用，感受不到使用过程中的痛点，不想过多阅读，只需了解以下几点：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. Shift+Enter 默认不适用于换行。需执行 /terminal-setup 命令，但仅限 iTerm2 和 VSCode使用。</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2. 粘贴图片 从剪贴板不能用 Command+V。使用 Control+V。截图使用Command+Ctrl+Shift+4。</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">3. 停止 Claude 不是 Control+C（那只是完全退出）。使用 Escape 来退出当前的执行。</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">4. 跳转到之前的消息：按两次 Escape 显示你可以跳转回去的所有之前消息的列表。</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">5. 选择文件/文件夹使用 “@”，输入文件名可以模糊匹配，显示文件列表，使用方向键选择，使用Tab进行确定。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>本指南整理了 36 个实用技巧，帮助你从 Claude Code 新手快速成长为高级用户。这些技巧都经过实战验证，能显著提升开发效率，减少不必要的错误。</p>
<p>如果不掌握这些技巧，你可能会发现 Cursor、Windsurf 甚至 GitHub Copilot 比 Claude Code 更好用。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="简述">简述<a href="#简述" class="hash-link" aria-label="Direct link to 简述" title="Direct link to 简述">​</a></h2>
<p>这份全面的指南涵盖了从基础快捷键到高级自动化的各个方面：</p>
<ul>
<li>基础快捷键和工作模式</li>
<li>IDE 集成和环境配置</li>
<li>高效提示词技巧</li>
<li>最实用的 MCP 服务器</li>
<li>项目规则和配置文件管理</li>
<li>自动化钩子设置</li>
</ul>
<p>开始学习吧！🏊♂️</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="第一部分快速上手">第一部分：快速上手<a href="#第一部分快速上手" class="hash-link" aria-label="Direct link to 第一部分：快速上手" title="Direct link to 第一部分：快速上手">​</a></h2>
<p>这些基础技巧帮你快速熟悉 Claude Code 的基本操作。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-掌握三种工作模式切换">1. 掌握三种工作模式切换<a href="#1-掌握三种工作模式切换" class="hash-link" aria-label="Direct link to 1. 掌握三种工作模式切换" title="Direct link to 1. 掌握三种工作模式切换">​</a></h3>
<p>Claude Code 有三种工作模式，它们会根本改变程序的行为方式。熟练切换模式是高效工作的基础：</p>
<ul>
<li><strong>编辑模式</strong>（默认）：修改文件前会征求你的同意</li>
<li><strong>自动接受模式</strong>（按 1 次 Shift+Tab）：直接修改文件，无需确认。坦率说，这是处理大部分任务的最佳模式</li>
<li><strong>规划 模式</strong>（按 2 次 Shift+Tab）：只制定行动方案，不实际修改代码。特别适合做调研分析</li>
</ul>
<p>模式切换方法：</p>
<ul>
<li>按一次 Shift+Tab → 进入自动接受模式</li>
<li>再按一次 Shift+Tab → 进入规划模式</li>
<li>再按一次 Shift+Tab → 回到编辑模式</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-安装-ide-扩展插件">2. 安装 IDE 扩展插件<a href="#2-安装-ide-扩展插件" class="hash-link" aria-label="Direct link to 2. 安装 IDE 扩展插件" title="Direct link to 2. 安装 IDE 扩展插件">​</a></h3>
<p>把 Claude Code 作为扩展插件安装到 IDE 中，能让你同时享受终端的强大功能和 IDE 的便捷体验。</p>
<p>安装后，它能连接 IDE 的诊断功能，提供上下文信息，还能在你熟悉的编辑器中直接显示代码差异对比。</p>
<p>支持 VS Code、Cursor、Windsurf、JetBrains 等主流 IDE。</p>
<p><a href="/en/docs/claude-code/introduce/use-in-ide">安装指南</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-配置多行输入功能仅vs-code">3. 配置多行输入功能（仅VS Code）<a href="#3-配置多行输入功能仅vs-code" class="hash-link" aria-label="Direct link to 3. 配置多行输入功能（仅VS Code）" title="Direct link to 3. 配置多行输入功能（仅VS Code）">​</a></h3>
<p>仅只需要配置一次：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/terminal-setup # 配置 Shift+Enter 实现多行输入</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-连接-ide-获取自动上下文">4. 连接 IDE 获取自动上下文<a href="#4-连接-ide-获取自动上下文" class="hash-link" aria-label="Direct link to 4. 连接 IDE 获取自动上下文" title="Direct link to 4. 连接 IDE 获取自动上下文">​</a></h3>
<p>连接 IDE 后，Claude Code 会自动获取你选中的代码行作为上下文：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/ide # 选择你的 IDE：VS Code、Cursor 或 JetBrains 等</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-快速启动快捷键">5. 快速启动快捷键<a href="#5-快速启动快捷键" class="hash-link" aria-label="Direct link to 5. 快速启动快捷键" title="Direct link to 5. 快速启动快捷键">​</a></h3>
<p>使用快捷键立即打开 Claude Code：</p>
<p><strong>Mac：CMD + Escape</strong>
<strong>Windows：CTRL + Escape</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-其他常用快捷键">6. 其他常用快捷键<a href="#6-其他常用快捷键" class="hash-link" aria-label="Direct link to 6. 其他常用快捷键" title="Direct link to 6. 其他常用快捷键">​</a></h3>
<table><thead><tr><th>快捷键组合</th><th>功能说明</th></tr></thead><tbody><tr><td>CMD/CTRL + L</td><td>清空屏幕</td></tr><tr><td>ESC + ESC</td><td>返回上一步</td></tr><tr><td>SHIFT + TAB</td><td>切换到自动接受模式（连按两次进入规划模式）</td></tr><tr><td>SHIFT + ENTER</td><td>vs code 配置后可实现换行输入（无需斜杠）</td></tr><tr><td>CMD/CTRL + R</td><td>显示详细输出信息</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="第二部分核心功能运用">第二部分：核心功能运用<a href="#第二部分核心功能运用" class="hash-link" aria-label="Direct link to 第二部分：核心功能运用" title="Direct link to 第二部分：核心功能运用">​</a></h2>
<p>掌握这些核心功能，是高效使用 Claude Code 的关键。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-直接处理图片">7. 直接处理图片<a href="#7-直接处理图片" class="hash-link" aria-label="Direct link to 7. 直接处理图片" title="Direct link to 7. 直接处理图片">​</a></h3>
<p>Claude Code 支持多模态输入，你可以：</p>
<ul>
<li>直接拖拽截图到 Claude Code 窗口</li>
<li>复制图片后粘贴到输入框</li>
</ul>
<p>这对&quot;照着这个样子做&quot;类型的需求特别有用。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-创建自定义命令">8. 创建自定义命令<a href="#8-创建自定义命令" class="hash-link" aria-label="Direct link to 8. 创建自定义命令" title="Direct link to 8. 创建自定义命令">​</a></h3>
<p>可以轻松扩展 Claude Code 的命令功能：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 在 .claude/commands/ 目录下创建文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 比如：.claude/commands/release.md</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这样就能在 Claude Code 中使用 <code>/release</code> 命令了！</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="9-合理清理上下文">9. 合理清理上下文<a href="#9-合理清理上下文" class="hash-link" aria-label="Direct link to 9. 合理清理上下文" title="Direct link to 9. 合理清理上下文">​</a></h3>
<p>Anthropic 的模型编程能力很强，上下文窗口也很大。但如果完成主要任务后不清理上下文，容易让模型产生混乱。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/clear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 完成主要任务后使用</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 避免上下文干扰</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 减少令牌消耗</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="10-会话恢复功能">10. 会话恢复功能<a href="#10-会话恢复功能" class="hash-link" aria-label="Direct link to 10. 会话恢复功能" title="Direct link to 10. 会话恢复功能">​</a></h3>
<p>有时候意外关闭了 Claude Code 或者遇到断电等情况，不用担心丢失工作进度。</p>
<p>你可以从上次中断的地方继续：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/resume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示所有历史会话</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 选择任意一个继续工作</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 即使断电后也能恢复</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="第三部分高级提示技巧">第三部分：高级提示技巧<a href="#第三部分高级提示技巧" class="hash-link" aria-label="Direct link to 第三部分：高级提示技巧" title="Direct link to 第三部分：高级提示技巧">​</a></h2>
<p>掌握这些技巧，能让你从 Claude Code 获得更好的效果。普通提示当然有用，但特定的关键词能带来明显更好的结果。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11提及希望-claude-查看或处理的文件">11.提及希望 Claude 查看或处理的文件<a href="#11提及希望-claude-查看或处理的文件" class="hash-link" aria-label="Direct link to 11.提及希望 Claude 查看或处理的文件" title="Direct link to 11.提及希望 Claude 查看或处理的文件">​</a></h3>
<ul>
<li>输入 &quot;@[文件名]&quot;，选择文件/文件夹</li>
<li>输入 &quot;@&quot; 后，会出现文件列表，继续输入可以进行文件名的模糊匹配。可使用方向键选择文件，使用 Tab 自动补全功能快速引用文件或文件夹，帮助 Claude 找到或更新正确的资源。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-将数据传递给-claude">12. 将数据传递给 Claude<a href="#12-将数据传递给-claude" class="hash-link" aria-label="Direct link to 12. 将数据传递给 Claude" title="Direct link to 12. 将数据传递给 Claude">​</a></h3>
<p>有几种方法可以向 Claude 提供数据：</p>
<ul>
<li>直接复制并粘贴到您的提示中（最常见的方法）</li>
<li>通过管道传输到 Claude Code（例如，cat foo.txt | claude），特别适用于日志、CSV 和大数据</li>
<li>通过 &quot;@[文件名]&quot;，Claude Code会通过Read工具进行读取</li>
<li>告诉 Claude 通过 bash 命令、MCP 工具或自定义斜杠命令拉取数据</li>
<li>为Claude Code提供网页的url会通过webFetch工具进行读取（对图片也有效）
大多数会话都涉及这些方法的组合。例如，您可以通过管道传输一个日志文件，然后告诉 Claude 使用一个工具来引入额外的上下文来调试日志。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-控制思考深度">13. 控制思考深度<a href="#13-控制思考深度" class="hash-link" aria-label="Direct link to 13. 控制思考深度" title="Direct link to 13. 控制思考深度">​</a></h3>
<p>Claude Code 会根据你的提示分配不同的&quot;思考令牌&quot;：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 基础思考（适合快速简单任 务）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&quot;...（你的需求。Think this.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 深度思考（适合复杂逻辑）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&quot;...(你的需求)。 think harder.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 超深度思考（适合关键决策）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&quot;...(你的需求)。 ultrathink.&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>思考过程会在终端中以斜体灰色文字显示。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-利用子代理处理复杂任务">14. 利用子代理处理复杂任务<a href="#14-利用子代理处理复杂任务" class="hash-link" aria-label="Direct link to 14. 利用子代理处理复杂任务" title="Direct link to 14. 利用子代理处理复杂任务">​</a></h3>
<p>Claude Code 可以创建多个代理并行处理工作：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;使用子代理重构这个项目&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Claude 会自动：</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># - 分析任务复杂程度</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># - 创建合适数量的代理</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># - 协调各代理工作</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># - 整合处理结果</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>你也可以创建专门的子代理，比如一个专门写 UI 代码，一个专门写测试，还有一个专门做代码审查。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="15-循环执行任务">15. 循环执行任务<a href="#15-循环执行任务" class="hash-link" aria-label="Direct link to 15. 循环执行任务" title="Direct link to 15. 循环执行任务">​</a></h3>
<p>由于 Claude Code 在工具调用方面表现出色（Anthropic 模型专门针对工具调用进行了优化），它非常适合迭代修复问题：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;循环执行 npm run build，当出现错误时修复它们，直到编译成功&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Claude 会：</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 1. 执行构建</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 2. 分析错误信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 3. 修复发现的问题</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 4. 重复执行直到成功</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个功能在大型重构时也很实用，需要遍历整个目录并修改多个文件时特别有效。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="第四部分必装-mcp-扩展">第四部分：必装 MCP 扩展<a href="#第四部分必装-mcp-扩展" class="hash-link" aria-label="Direct link to 第四部分：必装 MCP 扩展" title="Direct link to 第四部分：必装 MCP 扩展">​</a></h2>
<p>虽然我对 MCP 服务器不算狂热，但这几个确实帮助很大，我在所有项目中都默认安装它们。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="16-context7-mcp---获取最新文档">16. Context7 MCP - 获取最新文档<a href="#16-context7-mcp---获取最新文档" class="hash-link" aria-label="Direct link to 16. Context7 MCP - 获取最新文档" title="Direct link to 16. Context7 MCP - 获取最新文档">​</a></h3>
<p>是否遇到过 AI 总是使用过时框架或库版本的困扰？</p>
<p>Context7 MCP 能解决这个问题：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;mcpServers&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;context7&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;stdio&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;command&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;npx&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;args&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-y&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@upstash/context7-mcp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;env&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个 MCP 能提供最新文档，避免 Claude 输出过时的代码模式。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="17-playwright-mcp---浏览器自动化">17. Playwright MCP - 浏览器自动化<a href="#17-playwright-mcp---浏览器自动化" class="hash-link" aria-label="Direct link to 17. Playwright MCP - 浏览器自动化" title="Direct link to 17. Playwright MCP - 浏览器自动化">​</a></h3>
<p>Playwright MCP 让 Claude Code 具备浏览器交互能力：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;mcpServers&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;playwright&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;stdio&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;command&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;npx&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;args&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-y&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@playwright/mcp@latest&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;env&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>安装后，Claude 就能：</p>
<ul>
<li>在应用中模拟点击操作</li>
<li>检查控制台错误</li>
<li>自动截图</li>
<li>执行端到端测试</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="18-使用其他-ai-进行代码审查">18. 使用其他 AI 进行代码审查<a href="#18-使用其他-ai-进行代码审查" class="hash-link" aria-label="Direct link to 18. 使用其他 AI 进行代码审查" title="Direct link to 18. 使用其他 AI 进行代码审查">​</a></h3>
<p>这是 Anthropic 团队亲自推荐的技巧。</p>
<p>使用其他模型、子代理或专门的代码审查 AI（如 CodeRabbit）来双重检查 Claude 的工作成果。</p>
<p>试试给它们设置不同的、更严格的审查风格，效果会更好。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="第五部分项目配置和规则">第五部分：项目配置和规则<a href="#第五部分项目配置和规则" class="hash-link" aria-label="Direct link to 第五部分：项目配置和规则" title="Direct link to 第五部分：项目配置和规则">​</a></h2>
<p>正确配置 Claude Code，让它深度理解你的项目特点。</p>
<p>这不仅能提高工作效率，还能避免在大型代码库中重复引入相同的模块和库。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="19-初始化已有代码库">19. 初始化已有代码库<a href="#19-初始化已有代码库" class="hash-link" aria-label="Direct link to 19. 初始化已有代码库" title="Direct link to 19. 初始化已有代码库">​</a></h3>
<p>对于现有项目，可以自动生成配置约定：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/init</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 会生成包含以下内容的 claude.md 文件：</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># - 自动检测的代码约定</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># - 文件结构分析</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># - 依赖关系梳理</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># - 代码模式总结</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="20-动态添加规则">20. 动态添加规则<a href="#20-动态添加规则" class="hash-link" aria-label="Direct link to 20. 动态添加规则" title="Direct link to 20. 动态添加规则">​</a></h3>
<p>claude.md没有固定的格式。可以随时添加新的规则或记忆  。</p>
<p>例如，在生成的claude.md文件中输入：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">## Rules</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">### &quot;总是使用 async/await 而不是 .then()&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-目录级别的配置文件">21. 目录级别的配置文件<a href="#21-目录级别的配置文件" class="hash-link" aria-label="Direct link to 21. 目录级别的配置文件" title="Direct link to 21. 目录级别的配置文件">​</a></h3>
<p>可以为不同目录创建专门的规则，Claude Code 会根据当前目录自动选择合适的规则：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">project/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">├── claude.md           # 全局规则</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">├── frontend/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│   └── claude.md       # 前端专用规则</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">└── backend/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    └── claude.md       # 后端专用规则</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-claudemd的管理">22. claude.md的管理<a href="#22-claudemd的管理" class="hash-link" aria-label="Direct link to 22. claude.md的管理" title="Direct link to 22. claude.md的管理">​</a></h3>
<p>建议检入 git，以便与项目团队内部共享。如果claude.md中存在自己特有的编码风格则将其命名为 CLAUDE.local.md 并将其添加到 .gitignore 中。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-规则文件引用">23. 规则文件引用<a href="#23-规则文件引用" class="hash-link" aria-label="Direct link to 23. 规则文件引用" title="Direct link to 23. 规则文件引用">​</a></h3>
<p>还可以通过文件名引用其他规则文件。这样可以在不同 AI 工具间共享规 则，避免重复配置：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> 编程规范</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">参考：@.cursor/rules/self-improvement.mdc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> API 文档</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">参考：@docs/api.md</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="第六部分项目基础规则">第六部分：项目基础规则<a href="#第六部分项目基础规则" class="hash-link" aria-label="Direct link to  第六部分：项目基础规则" title="Direct link to 第六部分：项目基础规则">​</a></h2>
<p>这些规则能为你节省大量调试时间。可以下述规则添加到Claude.md中。</p>
<p>同时，它们能提高代码一致性，并提供类似 Cursor 的自动&quot;检查点&quot;和自动修复功能。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-自动版本控制替代-cursor-检查点">24. 自动版本控制（替代 Cursor 检查点）<a href="#24-自动版本控制替代-cursor-检查点" class="hash-link" aria-label="Direct link to 24. 自动版本控制（替代 Cursor 检查点）" title="Direct link to 24. 自动版本控制（替代 Cursor 检查点）">​</a></h3>
<p>由于 Claude Code 没有像 Cursor 那样的检查点功能，容易丢失工作进度。</p>
<p>使用这个规则，可以在每个主要任务完成后自动创建检查点：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Git 版本控制</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 完成整个任务后自动添加并提交更改</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 使用描述性提交信息，完整记录更改范围</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-任务完成后的诊断检查">25. 任务完成后的诊断检查<a href="#25-任务完成后的诊断检查" class="hash-link" aria-label="Direct link to 25. 任务完成后的诊断检查" title="Direct link to 25. 任务完成后的诊断检查">​</a></h3>
<p>这可能是你要添加到 Claude Code 的最重要规则。</p>
<p>对于每个编辑过的文件，它会运行 IDE 错误检查（代码检查、类型错误等）并自动修复。这不仅省去额外的提示步骤，还能使用项目中已配置好的正确设置。</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> 重要：代码质量检查</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">完成任何任务前必须执行以下步骤：</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">自动使用 IDE 内置诊断工具检查代码问题：</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 运行 </span><span class="token code-snippet code keyword" style="font-style:italic">`mcp__ide__getDiagnostics`</span><span class="token plain"> 检查所有文件的诊断信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 在认为任务完成前修复任何代码检查或类型错误</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 对所有创建或修改的文件都要执行此步骤</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">这是处理任何代码相关任务时绝对不能跳过的关键环节。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="26-文档查询规则">26. 文档查询规则<a href="#26-文档查询规则" class="hash-link" aria-label="Direct link to 26. 文档查询规则" title="Direct link to 26. 文档查询规则">​</a></h3>
<p>这个规则让 Claude Code 主动查找你使用的框架或库的最新文档。</p>
<p>它与前面提到的 Context7 MCP 配合使用：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> 使用 Context7 查询文档</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">在需要代码示例、配置步骤或库/API 文档时，使用 Context7 MCP 服务器获取信息。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="27-依赖管理">27. 依赖管理<a href="#27-依赖管理" class="hash-link" aria-label="Direct link to 27. 依赖管理" title="Direct link to 27. 依赖管理">​</a></h3>
<p>我发现 Claude Code 经常重复安装相同的包，或者安装稍微过时的版本。</p>
<p>这个规则能避免重复安装：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> 技术栈和依赖管理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">项目版本：</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain"> 1.0.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Node.js 要求：</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain"> &gt;=22.0.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">最后更新：</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain"> 2025年1月</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> 核心技术栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">####</span><span class="token title important"> Next.js 和 React（最新版本）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Next.js</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">：</span><span class="token code-snippet code keyword" style="font-style:italic">`^15.3.2`</span><span class="token plain"> - 使用 App Router，支持最新特性</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">React</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">：</span><span class="token code-snippet code keyword" style="font-style:italic">`^19.1.0`</span><span class="token plain"> - React 19 最新版本，支持并发特性</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">React DOM</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">：</span><span class="token code-snippet code keyword" style="font-style:italic">`^19.1.0`</span><span class="token plain"> - 与 React 版本匹配</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">TypeScript</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">：</span><span class="token code-snippet code keyword" style="font-style:italic">`^5.7.3`</span><span class="token plain"> - TypeScript 最新稳定版</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>注意</strong>：建议使用以下提示自动生成这个规则：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@package.json 分析所有主要依赖项，在 Claude.md 中创建技术栈记录，包括应用程序使用的版本以及这些版本的最佳实践说明 。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="28-项目结构文档">28. 项目结构文档<a href="#28-项目结构文档" class="hash-link" aria-label="Direct link to 28. 项目结构文档" title="Direct link to 28. 项目结构文档">​</a></h3>
<p>Claude Code 经常忽略现有模块，在错误位置创建重复的类似功能。</p>
<p>这个配置能让它工作得更快更准确：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">#</span><span class="token title important"> 项目结构指南</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">本规则说明项目的文件夹结构，用作导航和理解代码库的参考。</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> 根目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">根目录包含配置文件和主要项目文件夹：</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token url" style="color:rgb(221, 221, 221)">[</span><span class="token url content" style="color:rgb(221, 221, 221)">package.json</span><span class="token url" style="color:rgb(221, 221, 221)">](</span><span class="token url" style="color:rgb(221, 221, 221)">mdc:package.json</span><span class="token url" style="color:rgb(221, 221, 221)">)</span><span class="token plain">：项目依赖和脚本配置</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token url" style="color:rgb(221, 221, 221)">[</span><span class="token url content" style="color:rgb(221, 221, 221)">tsconfig.json</span><span class="token url" style="color:rgb(221, 221, 221)">](</span><span class="token url" style="color:rgb(221, 221, 221)">mdc:tsconfig.json</span><span class="token url" style="color:rgb(221, 221, 221)">)</span><span class="token plain">：TypeScript 配置</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token url" style="color:rgb(221, 221, 221)">[</span><span class="token url content" style="color:rgb(221, 221, 221)">next.config.js</span><span class="token url" style="color:rgb(221, 221, 221)">](</span><span class="token url" style="color:rgb(221, 221, 221)">mdc:next.config.js</span><span class="token url" style="color:rgb(221, 221, 221)">)</span><span class="token plain">：Next.js 配置</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>注意</strong>：建议使用以下提示自动生成这个规则：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@src 列出项目中的所有源文件和文件夹，创建新的规则文档，概述目录结构和重要文件说明。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="29-自我改进规则">29. 自我改进规则<a href="#29-自我改进规则" class="hash-link" aria-label="Direct link to 29. 自我改进规则" title="Direct link to 29. 自我改进规则">​</a></h3>
<p>这个规则帮助 Claude 从错误中学习，持续改进：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> 规则改进触发条件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 出现现有规则未覆盖的新代码模式</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 跨文件出现重复的类似实现</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 发现可以预防的常见错误模式</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 开始持续使用新的库或工具</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 代码库中出现新的最佳实践</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> 分析流程：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 将新代码与现有规则对比</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 识别应该标准化的模式</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 查找外部文档引用</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 检查一致的错误处理模式</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 监控测试模式和覆盖率</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="第七部分高级自动化钩子">第七部分：高级自动化钩子<a href="#第七部分高级自动化钩子" class="hash-link" aria-label="Direct link to 第七部分：高级自动化钩子" title="Direct link to 第七部分：高级自动化钩子">​</a></h2>
<p>Claude Code 钩子是实现自动化的秘密武器。它们是在 Claude Code 工作流程特定节点自动执行的确定性命令，为大量自动化操作打开了大门。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="可用的钩子类型">可用的钩子类型<a href="#可用的钩子类型" class="hash-link" aria-label="Direct link to 可用的钩子类型" title="Direct link to 可用的钩子类型">​</a></h3>
<p>Claude Code 支持多种覆盖整个代理生命周期的钩子事件：</p>
<table><thead><tr><th>钩子类型</th><th>触发时机</th><th>典型用途</th></tr></thead><tbody><tr><td>PreToolUse</td><td>执行工具前</td><td>验证、环境检查、备份</td></tr><tr><td>PostToolUse</td><td>工具执行后</td><td>格式化、代码检查、测试、提交</td></tr><tr><td>UserPromptSubmit</td><td>用户提交提示时</td><td>输入验证、上下文注入</td></tr><tr><td>Notification</td><td>系统通知时</td><td>告警、日志记录、监控</td></tr><tr><td>Stop</td><td>Claude 完成响应时</td><td>清理、最终检查、通知</td></tr><tr><td>SubagentStop</td><td>子代理完成时</td><td>子代理专用清理</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="30-钩子实用技巧任务完成提醒类似-cursor">30. 钩子实用技巧：任务完成提醒（类似 Cursor）<a href="#30-钩子实用技巧任务完成提醒类似-cursor" class="hash-link" aria-label="Direct link to 30. 钩子实用技巧：任务完成提醒（类似 Cursor）" title="Direct link to 30. 钩子实用技巧：任务完成提醒（类似 Cursor）">​</a></h3>
<p>既然钩子功能这么强大，  我当然用它来...在任务完成时获得提醒：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;Stop&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;matcher&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;command&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;command&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;afplay /System/Library/Sounds/Funk.aiff&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>说起来有点讽刺，这是我从 Cursor 转过来后最想念的功能之一。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-更高级的钩子使用脚本">31. 更高级的钩子：使用脚本<a href="#31-更高级的钩子使用脚本" class="hash-link" aria-label="Direct link to 31. 更高级的钩子：使用脚本" title="Direct link to 31. 更高级的钩子：使用脚本">​</a></h3>
<p>钩子也可以是完整的脚本甚至应用程序。</p>
<p>上面的提醒示例可以扩展为：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;Notification&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;matcher&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;command&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;command&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;node .claude/hooks/play-sound.js notification&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;Stop&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;matcher&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;command&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;command&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;node .claude/hooks/play-sound.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-文件写入时自动格式化">32. 文件写入时自动格式化<a href="#32-文件写入时自动格式化" class="hash-link" aria-label="Direct link to 32. 文件写入时自动格式化" title="Direct link to 32. 文件写入时自动格式化">​</a></h3>
<p>最烦人的事情莫过于改了 1 行代码，格式化工具却改了 200 行。</p>
<p>这个钩子只对刚刚编辑的文件运行格式化：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;PostToolUse&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;matcher&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Edit|Write|MultiEdit&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;command&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;command&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;npx prettier --write \&quot;$FILE_PATH\&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-始终验证更改">33. 始终验证更改<a href="#33-始终验证更改" class="hash-link" aria-label="Direct link to 33. 始终验证更改" title="Direct link to 33. 始终验证更改">​</a></h3>
<p>当前这一代 LLM 有时候会偷懒，做一些假设并犯浅层错误。</p>
<p>一个解决方案是添加钩子，在发送每个提示前提醒始终验证更改：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;PreToolUse&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;matcher&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Edit|Write|Bash&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;hooks&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;command&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;command&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;node .claude/hooks/pre-tool-use.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="第八部分一些实践经验">第八部分：一些实践经验<a href="#第八部分一些实践经验" class="hash-link" aria-label="Direct link to 第八部分：一些实践经验" title="Direct link to 第八部分：一些实践经验">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="33合理地监督指导">33.合理地监督指导<a href="#33合理地监督指导" class="hash-link" aria-label="Direct link to 33.合理地监督指导" title="Direct link to 33.合理地监督指导">​</a></h2>
<p>虽然自动接受模式（按 shift+tab 切换）让 Claude 自主工作，但进行复杂任务时更推荐监督并指导 Claude Code进行工作。可以通过在开始时向 Claude 彻底解释任务来获得最佳结果，也可以随时纠正 Claude。</p>
<ul>
<li>在编码前让 Claude 制定计划。 明确告诉它在你确认计划之前不要编码。（可以使用 plan mode模式，效果相同）</li>
<li>在任何阶段（思考、工具调用、文件编辑）按 Escape 键中断 Claude，保留上下文，以便您可以重定向或扩展指令。</li>
<li>双击 Escape 键跳回历史记录，编辑先前的提示，并探索不同的方向。您可以编辑提示并重新执行，直到获得想要的结果。</li>
<li>让 Claude 撤消更改，通常与 “按 Escape 键中断操作” 结合使用。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34回退到之前的消息">34.回退到之前的消息<a href="#34回退到之前的消息" class="hash-link" aria-label="Direct link to 34.回退到之前的消息" title="Direct link to 34.回退到之前的消息">​</a></h3>
<p>如果你某一次的指令出现了问题，或者发现输入信息有误，可以执行回退操作：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">1.按两次 Escape</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2. Claude Code会列出之前的消息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">3. 选择并跳转到之前的消息并在此基础上开始对话</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="35任务拆解是关键">35.任务拆解是关键<a href="#35任务拆解是关键" class="hash-link" aria-label="Direct link to 35.任务拆解是关键" title="Direct link to 35.任务拆解是关键">​</a></h3>
<p>如果经常使用AI Coding，一定会发现AI在处理小任务时游刃有余，面对大项目就容易手忙脚乱。给 AI 一个笼统的&quot;帮我完成 XXX 系统&quot;的需求，效果远不如先把大任务拆解成具体的小任务。这一步最好在 Plan Mode 中进行，让 AI 帮你一起梳理。比如：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">我：我想实现一个用户认证系统，帮我拆解需求</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">AI：好的，让我们拆解一下需要完成的任务：</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. 设计数据库表结构（用户表、会话表等）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2. 实现注册功能（验证、加密、存储）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">3. 实现登录功能（验证、生成 token）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">4. 实现中间件（验证 token、刷新机制）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">5. 添加测试用例</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>对于一个 session 难以完成的任务，可以让 AI 把讨论内容进行文档化，保存到项目里（比如 dev-note/auth-implementation-plan.md）。让Claude Code一个个任务去完成。这样，即使换了新的 session，你也可以让 AI 读取这个文档，快速恢复上下文。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="36在合适的时机手动-compact">36.在合适的时机手动 compact<a href="#36在合适的时机手动-compact" class="hash-link" aria-label="Direct link to 36.在合适的时机手动 compact" title="Direct link to 36.在合适的时机手动 compact">​</a></h3>
<p>虽然 Claude Code 会自动进行上下文压缩，但我的经验是：主动出击会更好。当你看到上下文使用量接近用满时，不妨手动执行 /compact 命令。这可以让压缩发生在一个更自然的断点进行。比如刚完成一个功能模块，或者刚跑完一轮测试。这时候压缩，AI 不太会丢失重要信息。而如果等到自动压缩，可能正好在你改代码改到一半的时候触发，那就很容易出问题。</p>
<p>另一个技巧是：对于相对独立的任务，干脆新开一个 session。反正你已经把任务计划文档化了，新 session 读取文档就能快速上手。这比在一个快要爆炸的 session 里硬撑要明智得多。</p>
<p>当前在 AI 辅助编程中，上下文窗口依然是稀缺资源，要像管理内存一样管理它。合理规划、及时清理、必要时&quot;换个房间&quot;，才能让 vibe coding 的体验保持流畅。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h2>
<p>这 36 个技巧能让 Claude Code 从&quot;还行&quot;变成&quot;真香&quot;。从基础开始，逐步添加自动化功能，很快你就能比说出&quot;Claude Code&quot;这个词更快地完成代码开发。</p>
<p>祝编程愉快！🚀</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/claude-code/tech/sub-agents"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">何时需要子代理？从Claude Code的架构设计看AI Agent的演进逻辑</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/claude-code/case/technical-research-case"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">进行技术调研的案例</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#写在前面" class="table-of-contents__link toc-highlight">写在前面</a></li><li><a href="#简述" class="table-of-contents__link toc-highlight">简述</a></li><li><a href="#第一部分快速上手" class="table-of-contents__link toc-highlight">第一部分：快速上手</a><ul><li><a href="#1-掌握三种工作模式切换" class="table-of-contents__link toc-highlight">1. 掌握三种工作模式切换</a></li><li><a href="#2-安装-ide-扩展插件" class="table-of-contents__link toc-highlight">2. 安装 IDE 扩展插件</a></li><li><a href="#3-配置多行输入功能仅vs-code" class="table-of-contents__link toc-highlight">3. 配置多行输入功能（仅VS Code）</a></li><li><a href="#4-连接-ide-获取自动上下文" class="table-of-contents__link toc-highlight">4. 连接 IDE 获取自动上下文</a></li><li><a href="#5-快速启动快捷键" class="table-of-contents__link toc-highlight">5. 快速启动快捷键</a></li><li><a href="#6-其他常用快捷键" class="table-of-contents__link toc-highlight">6. 其他常用快捷键</a></li></ul></li><li><a href="#第二部分核心功能运用" class="table-of-contents__link toc-highlight">第二部分：核心功能运用</a><ul><li><a href="#7-直接处理图片" class="table-of-contents__link toc-highlight">7. 直接处理图片</a></li><li><a href="#8-创建自定义命令" class="table-of-contents__link toc-highlight">8. 创建自定义命令</a></li><li><a href="#9-合理清理上下文" class="table-of-contents__link toc-highlight">9. 合理清理上下文</a></li><li><a href="#10-会话恢复功能" class="table-of-contents__link toc-highlight">10. 会话恢复功能</a></li></ul></li><li><a href="#第三部分高级提示技巧" class="table-of-contents__link toc-highlight">第三部分：高级提示技巧</a><ul><li><a href="#11提及希望-claude-查看或处理的文件" class="table-of-contents__link toc-highlight">11.提及希望 Claude 查看或处理的文件</a></li><li><a href="#12-将数据传递给-claude" class="table-of-contents__link toc-highlight">12. 将数据传递给 Claude</a></li><li><a href="#13-控制思考深度" class="table-of-contents__link toc-highlight">13. 控制思考深度</a></li><li><a href="#14-利用子代理处理复杂任务" class="table-of-contents__link toc-highlight">14. 利用子代理处理复杂任务</a></li><li><a href="#15-循环执行任务" class="table-of-contents__link toc-highlight">15. 循环执行任务</a></li></ul></li><li><a href="#第四部分必装-mcp-扩展" class="table-of-contents__link toc-highlight">第四部分：必装 MCP 扩展</a><ul><li><a href="#16-context7-mcp---获取最新文档" class="table-of-contents__link toc-highlight">16. Context7 MCP - 获取最新文档</a></li><li><a href="#17-playwright-mcp---浏览器自动化" class="table-of-contents__link toc-highlight">17. Playwright MCP - 浏览器自动化</a></li><li><a href="#18-使用其他-ai-进行代码审查" class="table-of-contents__link toc-highlight">18. 使用其他 AI 进行代码审查</a></li></ul></li><li><a href="#第五部分项目配置和规则" class="table-of-contents__link toc-highlight">第五部分：项目配置和规则</a><ul><li><a href="#19-初始化已有代码库" class="table-of-contents__link toc-highlight">19. 初始化已有代码库</a></li><li><a href="#20-动态添加规则" class="table-of-contents__link toc-highlight">20. 动态添加规则</a></li><li><a href="#21-目录级别的配置文件" class="table-of-contents__link toc-highlight">21. 目录级别的配置文件</a></li><li><a href="#22-claudemd的管理" class="table-of-contents__link toc-highlight">22. claude.md的管理</a></li><li><a href="#23-规则文件引用" class="table-of-contents__link toc-highlight">23. 规则文件引用</a></li></ul></li><li><a href="#第六部分项目基础规则" class="table-of-contents__link toc-highlight">第六部分：项目基础规则</a><ul><li><a href="#24-自动版本控制替代-cursor-检查点" class="table-of-contents__link toc-highlight">24. 自动版本控制（替代 Cursor 检查点）</a></li><li><a href="#25-任务完成后的诊断检查" class="table-of-contents__link toc-highlight">25. 任务完成后的诊断检查</a></li><li><a href="#26-文档查询规则" class="table-of-contents__link toc-highlight">26. 文档查询规则</a></li><li><a href="#27-依赖管理" class="table-of-contents__link toc-highlight">27. 依赖管理</a></li><li><a href="#28-项目结构文档" class="table-of-contents__link toc-highlight">28. 项目结构文档</a></li><li><a href="#29-自我改进规则" class="table-of-contents__link toc-highlight">29. 自我改进规则</a></li></ul></li><li><a href="#第七部分高级自动化钩子" class="table-of-contents__link toc-highlight">第七部分：高级自动化钩子</a><ul><li><a href="#可用的钩子类型" class="table-of-contents__link toc-highlight">可用的钩子类型</a></li><li><a href="#30-钩子实用技巧任务完成提醒类似-cursor" class="table-of-contents__link toc-highlight">30. 钩子实用技巧：任务完成提醒（类似 Cursor）</a></li><li><a href="#31-更高级的钩子使用脚本" class="table-of-contents__link toc-highlight">31. 更高级的钩子：使用脚本</a></li><li><a href="#32-文件写入时自动格式化" class="table-of-contents__link toc-highlight">32. 文件写入时自动格式化</a></li><li><a href="#33-始终验证更改" class="table-of-contents__link toc-highlight">33. 始终验证更改</a></li></ul></li><li><a href="#第八部分一些实践经验" class="table-of-contents__link toc-highlight">第八部分：一些实践经验</a></li><li><a href="#33合理地监督指导" class="table-of-contents__link toc-highlight">33.合理地监督指导</a><ul><li><a href="#34回退到之前的消息" class="table-of-contents__link toc-highlight">34.回退到之前的消息</a></li><li><a href="#35任务拆解是关键" class="table-of-contents__link toc-highlight">35.任务拆解是关键</a></li><li><a href="#36在合适的时机手动-compact" class="table-of-contents__link toc-highlight">36.在合适的时机手动 compact</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Document</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/en/api-viewer">API Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/LianjiaTech/bella-openapi/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">more</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/LianjiaTech/bella-openapi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2025 LianjiaTech. Built on Docusaurus.</div></div></div></footer></div>
</body>
</html>